{"meta":{"title":"Hexo","subtitle":"","description":"","author":"Jinxia Liu","url":"https://liujinxia.github.io/blog","root":"/blog/"},"pages":[],"posts":[{"title":"hexo_doc","slug":"hexo-doc","date":"2020-09-30T06:29:56.000Z","updated":"2020-09-30T07:49:27.615Z","comments":true,"path":"2020/09/30/hexo-doc/","link":"","permalink":"https://liujinxia.github.io/blog/2020/09/30/hexo-doc/","excerpt":"","text":"Blog steps Hexo参考教程：https://zhuanlan.zhihu.com/p/26625249 node版本用v11.0.0 1.创建github repository修改settings，github page 路径:/blog 分支用gh-pages 2.本地创建空的文件夹1234567891011121314151617181920212223npm install -g hexo-cli #安装hexo依赖hexo init blog #该命令创建blog文件夹~/Downloads/project/jinxia/blog/blogcd ~/Downloads/project/jinxia/blog/blog &amp;&amp; hexo new test_my_site #创建文章hexo g #生成js，css，html页面hexo s #查看本地效果#1liujinxia@liujinxiadeMacBook-Pro-2  ~/Downloads/project/jinxia/blog/blog  hexo clean(node:9992) ExperimentalWarning: The fs.promises API is experimentalINFO Validating configINFO Deleted database.INFO Deleted public folder. 3. 切换主题主题选择网站：https://hexo.io/themes/ 切换方式： 123456789101112cd .&#x2F;themes&#x2F;git clone https:&#x2F;&#x2F;github.com&#x2F;JoeyBling&#x2F;hexo-theme-yilia-plus.gitmv hexo-theme-yilia-plus yilia-plus修改hexo根目录下的 _config.yml ➡️ theme: yilia-plus更新：cd themes&#x2F;yilia-plusgit pullhexo cleanhexo g #报错没事hexo s 4.与github关联deploy: type: git repo: &#103;&#x69;&#116;&#64;&#103;&#105;&#x74;&#104;&#x75;&#98;&#x2e;&#99;&#111;&#109;:liujinxia/docs.git #不用http 经常报错 branch: gh-pages 安装插件：npm install hexo-deployer-git –save 123hexo clean hexo g hexo d #github pages部署 Github 可以查看部署的情况： 5.图片托管全局放在这里： 引用的时候直接： 1![image-20200930112008188](/blog/img/image-20200930112008188.png) 6.文章目录生成npm i hexo-generator-json-content –save在根目录_config.yml里添加配置： jsonContent: meta: false pages: false posts: title: true date: true path: true text: false raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: true 附：hexo命令现在来介绍常用的Hexo 命令 npm install hexo -g #安装Hexonpm update hexo -g #升级hexo init #初始化博客 命令简写hexo n “我的博客” == hexo new “我的博客” #新建文章hexo g == hexo generate #生成hexo s == hexo server #启动服务预览hexo d == hexo deploy #部署 hexo server #Hexo会监视文件变动并自动更新，无须重启服务器hexo server -s #静态模式hexo server -p 5000 #更改端口hexo server -i 192.168.1.1 #自定义 IPhexo clean #清除缓存，若是网页正常情况下可以忽略这条命令 刚刚的三个命令依次是新建一篇博客文章、生成网页、在本地预览的操作。","categories":[],"tags":[]},{"title":"maven_lifecycle","slug":"maven-lifecycle","date":"2020-09-30T03:29:23.000Z","updated":"2020-09-30T07:32:07.360Z","comments":true,"path":"2020/09/30/maven-lifecycle/","link":"","permalink":"https://liujinxia.github.io/blog/2020/09/30/maven-lifecycle/","excerpt":"","text":"Maven 生命周期1.实例1符合预期？NO 打包成功，请求localhost:8080失败,后端请求成功 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;build&gt; &lt;plugins&gt; &lt;!--资源插件，主要为了从前端项目里复制打包好的文件到springboot项目--&gt; &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;exec-npm-install&lt;/id&gt; &lt;phase&gt;generate-resources&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;exec&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;executable&gt;npm&lt;/executable&gt; &lt;arguments&gt; &lt;argument&gt;run&lt;/argument&gt; &lt;argument&gt;build&lt;/argument&gt; &lt;/arguments&gt; &lt;workingDirectory&gt;../doc-ui/&lt;/workingDirectory&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;!--资源插件，主要为了从前端项目里复制打包好的文件到springboot项目--&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;maven.resource.version&#125;&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;copy static&lt;/id&gt; &lt;phase&gt;process-resources&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;copy-resources&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;outputDirectory&gt;../doc-center/src/main/resources/templates&lt;/outputDirectory&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;resources&gt; &lt;resource&gt; &lt;!--因为vue-cli打包的目录在项目的根目录，所以从这里复制--&gt; &lt;directory&gt;../doc-ui/dist&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;css/&lt;/include&gt; &lt;include&gt;img/&lt;/include&gt; &lt;include&gt;js/&lt;/include&gt; &lt;include&gt;favicon.ico&lt;/include&gt; &lt;/includes&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;execution&gt; &lt;id&gt;copy template&lt;/id&gt; &lt;phase&gt;process-resources&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;copy-resources&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;outputDirectory&gt;../doc-center/src/main/resources/templates&lt;/outputDirectory&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;resources&gt; &lt;resource&gt; &lt;!--因为vue-cli打包的目录在项目的根目录，所以从这里复制--&gt; &lt;directory&gt;../doc-ui/dist&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;index.html&lt;/include&gt; &lt;include&gt;static/&lt;/include&gt; &lt;/includes&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; 执行输出： [INFO] Scanning for projects…[WARNING][WARNING] Some problems were encountered while building the effective model for com.bj58.fang:doc-center:jar:0.0.1-SNAPSHOT[WARNING] ‘build.plugins.plugin.(groupId:artifactId)’ must be unique but found duplicate declaration of plugin org.springframework.boot:spring-boot-maven-plugin @ line 174, column 21[WARNING] ‘build.plugins.plugin.version’ for org.codehaus.mojo:exec-maven-plugin is missing. @ line 151, column 21[WARNING][WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.[WARNING][WARNING] For this reason, future Maven versions might no longer support building such malformed projects.[WARNING][INFO][INFO] ———————-&lt; com.bj58.fang:doc-center &gt;———————-[INFO] Building doc-center 0.0.1-SNAPSHOT[INFO] ——————————–[ jar ]———————————[INFO][INFO] — exec-maven-plugin:3.0.0:exec (exec-npm-install) @ doc-center — &#100;&#111;&#x63;&#x2d;&#x75;&#105;&#x40;&#x31;&#46;&#x30;&#46;&#48; build /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-uinode build/build.js Hash: db9972dbe868d8260780Version: webpack 3.12.0Time: 15625ms Asset Size Chunks Chunk Names static/js/app.0bae73f68f52e265aa30.js 35.8 kB 1 [emitted] app static/fonts/element-icons.535877f.woff 28.2 kB [emitted] static/img/fontawesome-webfont.912ec66.svg 444 kB [emitted] [big] static/fonts/fontawesome-webfont.b06871f.ttf 166 kB [emitted] static/fonts/fontawesome-webfont.674f50d.eot 166 kB [emitted] static/fonts/fontawesome-webfont.fee66e7.woff 98 kB [emitted] static/fonts/fontawesome-webfont.af7ae50.woff2 77.2 kB [emitted] static/img/logo.fa1c045.png 19.7 kB [emitted] static/js/vendor.6f4e3fae8959d663691f.js 1000 kB 0 [emitted] [big] vendor static/fonts/element-icons.732389d.ttf 56 kB [emitted] static/js/manifest.2ae2e69a05c33dfc65f8.js 857 bytes 2 [emitted] manifest static/css/app.00068ce92adfface56aee0ba2af02093.css 266 kB 1 [emitted] [big] appstatic/css/app.00068ce92adfface56aee0ba2af02093.css.map 383 kB [emitted] static/js/vendor.6f4e3fae8959d663691f.js.map 3.88 MB 0 [emitted] vendor static/js/app.0bae73f68f52e265aa30.js.map 153 kB 1 [emitted] app static/js/manifest.2ae2e69a05c33dfc65f8.js.map 4.97 kB 2 [emitted] manifest index.html 655 bytes [emitted] static/logo.png 19.7 kB [emitted] Build complete. Tip: built files are meant to be served over an HTTP server. Opening index.html over file:// won’t work. [INFO][INFO] — maven-resources-plugin:3.2.0:resources (default-resources) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 3 resources[INFO][INFO] — maven-resources-plugin:3.2.0:copy-resources (copy static) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 0 resource[INFO][INFO] — maven-resources-plugin:3.2.0:copy-resources (copy template) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 18 resources[INFO][INFO] — maven-compiler-plugin:3.8.1:compile (default-compile) @ doc-center —[INFO] Changes detected - recompiling the module![INFO] Compiling 24 source files to /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/classes[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/DocCenterApplication.java: /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/DocCenterApplication.java使用或覆盖了已过时的 API。[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/DocCenterApplication.java: 有关详细信息, 请使用 -Xlint:deprecation 重新编译。[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/service/ProjectService.java: 某些输入文件使用了未经检查或不安全的操作。[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/service/ProjectService.java: 有关详细信息, 请使用 -Xlint:unchecked 重新编译。[INFO][INFO] — maven-resources-plugin:3.2.0:testResources (default-testResources) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 1 resource[INFO][INFO] — maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ doc-center —[INFO] Changes detected - recompiling the module![INFO] Compiling 8 source files to /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/test-classes[INFO][INFO] — maven-surefire-plugin:2.12.4:test (default-test) @ doc-center —[INFO] Surefire report directory: /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/surefire-reports T E S T SRunning com.bj58.fang.doccenter.util.Base64TestTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec Results : Tests run: 1, Failures: 0, Errors: 0, Skipped: 0 [INFO][INFO] — maven-jar-plugin:2.4:jar (default-jar) @ doc-center —[INFO] Building jar: /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/doc-center-0.0.1-SNAPSHOT.jar[INFO][INFO] — spring-boot-maven-plugin:2.3.0.RELEASE:repackage (repackage) @ doc-center —[INFO] Replacing main artifact with repackaged archive[INFO][INFO] — maven-install-plugin:2.4:install (default-install) @ doc-center —[INFO] Installing /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/doc-center-0.0.1-SNAPSHOT.jar to /Users/liujinxia/.m2/repository/com/bj58/fang/doc-center/0.0.1-SNAPSHOT/doc-center-0.0.1-SNAPSHOT.jar[INFO] Installing /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/pom.xml to /Users/liujinxia/.m2/repository/com/bj58/fang/doc-center/0.0.1-SNAPSHOT/doc-center-0.0.1-SNAPSHOT.pom[INFO] ————————————————————————[INFO] BUILD SUCCESS[INFO] ————————————————————————[INFO] Total time: 23.858 s[INFO] Finished at: 2020-09-25T16:23:07+08:00[INFO] ———————————————————————— 资源视图：包里面没有resources里面的资源 2.实例2符合预期结果 index.html设置为默认的欢迎页，后端接口正常 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485 &lt;build&gt; &lt;plugins&gt; &lt;!--资源插件，主要为了从前端项目里复制打包好的文件到springboot项目--&gt; &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;&#x2F;groupId&gt; &lt;artifactId&gt;exec-maven-plugin&lt;&#x2F;artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;exec-npm-install&lt;&#x2F;id&gt; &lt;phase&gt;generate-resources&lt;&#x2F;phase&gt; &lt;goals&gt; &lt;goal&gt;exec&lt;&#x2F;goal&gt; &lt;&#x2F;goals&gt; &lt;configuration&gt; &lt;executable&gt;npm&lt;&#x2F;executable&gt; &lt;arguments&gt; &lt;argument&gt;run&lt;&#x2F;argument&gt; &lt;argument&gt;build&lt;&#x2F;argument&gt; &lt;&#x2F;arguments&gt; &lt;workingDirectory&gt;..&#x2F;doc-ui&#x2F;&lt;&#x2F;workingDirectory&gt; &lt;&#x2F;configuration&gt; &lt;&#x2F;execution&gt; &lt;&#x2F;executions&gt; &lt;&#x2F;plugin&gt; &lt;!--资源插件，主要为了从前端项目里复制打包好的文件到springboot项目--&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt; &lt;artifactId&gt;maven-resources-plugin&lt;&#x2F;artifactId&gt; &lt;version&gt;$&#123;maven.resource.version&#125;&lt;&#x2F;version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;copy static&lt;&#x2F;id&gt; &lt;phase&gt;generate-resources&lt;&#x2F;phase&gt; &lt;goals&gt; &lt;goal&gt;copy-resources&lt;&#x2F;goal&gt; &lt;&#x2F;goals&gt; &lt;configuration&gt; &lt;outputDirectory&gt;..&#x2F;doc-center&#x2F;src&#x2F;main&#x2F;resources&#x2F;templates&lt;&#x2F;outputDirectory&gt; &lt;overwrite&gt;true&lt;&#x2F;overwrite&gt; &lt;resources&gt; &lt;resource&gt; &lt;!--因为vue-cli打包的目录在项目的根目录，所以从这里复制--&gt; &lt;directory&gt;..&#x2F;doc-ui&#x2F;dist&lt;&#x2F;directory&gt; &lt;includes&gt; &lt;include&gt;css&#x2F;&lt;&#x2F;include&gt; &lt;include&gt;img&#x2F;&lt;&#x2F;include&gt; &lt;include&gt;js&#x2F;&lt;&#x2F;include&gt; &lt;include&gt;favicon.ico&lt;&#x2F;include&gt; &lt;&#x2F;includes&gt; &lt;&#x2F;resource&gt; &lt;&#x2F;resources&gt; &lt;&#x2F;configuration&gt; &lt;&#x2F;execution&gt; &lt;execution&gt; &lt;id&gt;copy template&lt;&#x2F;id&gt; &lt;phase&gt;generate-resources&lt;&#x2F;phase&gt; &lt;goals&gt; &lt;goal&gt;copy-resources&lt;&#x2F;goal&gt; &lt;&#x2F;goals&gt; &lt;configuration&gt; &lt;outputDirectory&gt;..&#x2F;doc-center&#x2F;src&#x2F;main&#x2F;resources&#x2F;templates&lt;&#x2F;outputDirectory&gt; &lt;overwrite&gt;true&lt;&#x2F;overwrite&gt; &lt;resources&gt; &lt;resource&gt; &lt;!--因为vue-cli打包的目录在项目的根目录，所以从这里复制--&gt; &lt;directory&gt;..&#x2F;doc-ui&#x2F;dist&lt;&#x2F;directory&gt; &lt;includes&gt; &lt;include&gt;index.html&lt;&#x2F;include&gt; &lt;include&gt;static&#x2F;&lt;&#x2F;include&gt; &lt;&#x2F;includes&gt; &lt;&#x2F;resource&gt; &lt;&#x2F;resources&gt; &lt;&#x2F;configuration&gt; &lt;&#x2F;execution&gt; &lt;&#x2F;executions&gt; &lt;&#x2F;plugin&gt; &lt;&#x2F;plugins&gt; &lt;&#x2F;build&gt;&lt;&#x2F;project&gt; [INFO] Scanning for projects…[WARNING][WARNING] Some problems were encountered while building the effective model for com.bj58.fang:doc-center:jar:0.0.1-SNAPSHOT[WARNING] ‘build.plugins.plugin.(groupId:artifactId)’ must be unique but found duplicate declaration of plugin org.springframework.boot:spring-boot-maven-plugin @ line 174, column 21[WARNING] ‘build.plugins.plugin.version’ for org.codehaus.mojo:exec-maven-plugin is missing. @ line 151, column 21[WARNING][WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.[WARNING][WARNING] For this reason, future Maven versions might no longer support building such malformed projects.[WARNING][INFO][INFO] ———————-&lt; com.bj58.fang:doc-center &gt;———————-[INFO] Building doc-center 0.0.1-SNAPSHOT[INFO] ——————————–[ jar ]———————————[INFO][INFO] — exec-maven-plugin:3.0.0:exec (exec-npm-install) @ doc-center — &#x64;&#x6f;&#99;&#x2d;&#117;&#x69;&#x40;&#x31;&#46;&#x30;&#x2e;&#48; build /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-uinode build/build.js Hash: 480b62d51244c190b944Version: webpack 3.12.0Time: 16044ms Asset Size Chunks Chunk Names static/js/app.0bae73f68f52e265aa30.js 35.8 kB 1 [emitted] app static/fonts/element-icons.535877f.woff 28.2 kB [emitted] static/img/fontawesome-webfont.912ec66.svg 444 kB [emitted] [big] static/fonts/fontawesome-webfont.b06871f.ttf 166 kB [emitted] static/fonts/fontawesome-webfont.674f50d.eot 166 kB [emitted] static/fonts/fontawesome-webfont.fee66e7.woff 98 kB [emitted] static/fonts/fontawesome-webfont.af7ae50.woff2 77.2 kB [emitted] static/img/logo.fa1c045.png 19.7 kB [emitted] static/js/vendor.6f4e3fae8959d663691f.js 1000 kB 0 [emitted] [big] vendor static/fonts/element-icons.732389d.ttf 56 kB [emitted] static/js/manifest.2ae2e69a05c33dfc65f8.js 857 bytes 2 [emitted] manifest static/css/app.00068ce92adfface56aee0ba2af02093.css 266 kB 1 [emitted] [big] appstatic/css/app.00068ce92adfface56aee0ba2af02093.css.map 383 kB [emitted] static/js/vendor.6f4e3fae8959d663691f.js.map 3.88 MB 0 [emitted] vendor static/js/app.0bae73f68f52e265aa30.js.map 153 kB 1 [emitted] app static/js/manifest.2ae2e69a05c33dfc65f8.js.map 4.97 kB 2 [emitted] manifest index.html 655 bytes [emitted] static/logo.png 19.7 kB [emitted] Build complete. Tip: built files are meant to be served over an HTTP server. Opening index.html over file:// won’t work. [INFO][INFO] — maven-resources-plugin:3.2.0:copy-resources (copy static) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 0 resource[INFO][INFO] — maven-resources-plugin:3.2.0:copy-resources (copy template) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 18 resources[INFO][INFO] — maven-resources-plugin:3.2.0:resources (default-resources) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 21 resources[INFO][INFO] — maven-compiler-plugin:3.8.1:compile (default-compile) @ doc-center —[INFO] Changes detected - recompiling the module![INFO] Compiling 24 source files to /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/classes[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/DocCenterApplication.java: /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/DocCenterApplication.java使用或覆盖了已过时的 API。[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/DocCenterApplication.java: 有关详细信息, 请使用 -Xlint:deprecation 重新编译。[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/service/ProjectService.java: 某些输入文件使用了未经检查或不安全的操作。[INFO] /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/src/main/java/com/bj58/fang/doccenter/service/ProjectService.java: 有关详细信息, 请使用 -Xlint:unchecked 重新编译。[INFO][INFO] — maven-resources-plugin:3.2.0:testResources (default-testResources) @ doc-center —[INFO] Using ‘UTF-8’ encoding to copy filtered resources.[INFO] Using ‘UTF-8’ encoding to copy filtered properties files.[INFO] Copying 1 resource[INFO][INFO] — maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ doc-center —[INFO] Changes detected - recompiling the module![INFO] Compiling 8 source files to /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/test-classes[INFO][INFO] — maven-surefire-plugin:2.12.4:test (default-test) @ doc-center —[INFO] Surefire report directory: /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/surefire-reports T E S T S Running com.bj58.fang.doccenter.util.Base64TestTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec Results : Tests run: 1, Failures: 0, Errors: 0, Skipped: 0 [INFO][INFO] — maven-jar-plugin:2.4:jar (default-jar) @ doc-center —[INFO] Building jar: /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/doc-center-0.0.1-SNAPSHOT.jar[INFO][INFO] — spring-boot-maven-plugin:2.3.0.RELEASE:repackage (repackage) @ doc-center —[INFO] Replacing main artifact with repackaged archive[INFO][INFO] — maven-install-plugin:2.4:install (default-install) @ doc-center —[INFO] Installing /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/doc-center-0.0.1-SNAPSHOT.jar to /Users/liujinxia/.m2/repository/com/bj58/fang/doc-center/0.0.1-SNAPSHOT/doc-center-0.0.1-SNAPSHOT.jar[INFO] Installing /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/pom.xml to /Users/liujinxia/.m2/repository/com/bj58/fang/doc-center/0.0.1-SNAPSHOT/doc-center-0.0.1-SNAPSHOT.pom[INFO] ————————————————————————[INFO] BUILD SUCCESS[INFO] ————————————————————————[INFO] Total time: 24.194 s[INFO] Finished at: 2020-09-25T16:37:53+08:00[INFO] ———————————————————————— boot日志： liujinxia@liujinxiadeMacBook-Pro-2  ~/Downloads/project/58/apiDocCenter/doc-center   master  ls1.txt README.md docs mvnw mvnw.cmd pom.xml setup src target liujinxia@liujinxiadeMacBook-Pro-2  ~/Downloads/project/58/apiDocCenter/doc-center   master  cd target liujinxia@liujinxiadeMacBook-Pro-2  ~/Downloads/project/58/apiDocCenter/doc-center/target   master  java -jar doc-center-0.0.1-SNAPSHOT.jar . __ _ __ _ _ /\\ / _‘_ __ _ ()_ __ __ _ \\ \\ \\ ( ( )___ | ‘_ | ‘| | ‘ / ` | \\ \\ \\ \\/ __)| |)| | | | | || (| | ) ) ) ) ‘ |__| .|| ||| |\\, | / / / / =========||==============|__/=///_/ :: Spring Boot :: (v2.3.0.RELEASE) 2020-09-25 16:39:03.785 INFO 25135 — [ main] c.b.fang.doccenter.DocCenterApplication : Starting DocCenterApplication on liujinxiadeMacBook-Pro-2.local with PID 25135 (/Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target/doc-center-0.0.1-SNAPSHOT.jar started by liujinxia in /Users/liujinxia/Downloads/project/58/apiDocCenter/doc-center/target)2020-09-25 16:39:03.787 DEBUG 25135 — [ main] c.b.fang.doccenter.DocCenterApplication : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE2020-09-25 16:39:03.788 INFO 25135 — [ main] c.b.fang.doccenter.DocCenterApplication : The following profiles are active: dev2020-09-25 16:39:05.056 INFO 25135 — [ main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.2020-09-25 16:39:05.166 INFO 25135 — [ main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98ms. Found 2 JPA repository interfaces.2020-09-25 16:39:05.902 INFO 25135 — [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)2020-09-25 16:39:05.917 INFO 25135 — [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat]2020-09-25 16:39:05.917 INFO 25135 — [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.35]2020-09-25 16:39:05.999 INFO 25135 — [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext2020-09-25 16:39:06.000 INFO 25135 — [ main] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 2142 ms2020-09-25 16:39:06.393 INFO 25135 — [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService ‘applicationTaskExecutor’2020-09-25 16:39:06.461 INFO 25135 — [ main] o.s.s.c.ThreadPoolTaskScheduler : Initializing ExecutorService ‘taskScheduler’2020-09-25 16:39:06.482 INFO 25135 — [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting…2020-09-25 16:39:06.768 INFO 25135 — [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.2020-09-25 16:39:06.920 INFO 25135 — [ task-1] o.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]2020-09-25 16:39:07.407 INFO 25135 — [ task-1] org.hibernate.Version : HHH000412: Hibernate ORM core version 5.4.15.Final2020-09-25 16:39:07.607 INFO 25135 — [ task-1] o.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}2020-09-25 16:39:07.865 INFO 25135 — [ task-1] org.hibernate.dialect.Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect2020-09-25 16:39:08.601 INFO 25135 — [ task-1] o.h.e.t.j.p.i.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]2020-09-25 16:39:08.620 INFO 25135 — [ task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit ‘default’2020-09-25 16:39:09.005 INFO 25135 — [ main] o.s.b.a.w.s.WelcomePageHandlerMapping : Adding welcome page: class path resource [templates/index.html]2020-09-25 16:39:09.892 INFO 25135 — [ main] o.s.b.a.e.web.EndpointLinksResolver : Exposing 13 endpoint(s) beneath base path ‘/actuator’2020-09-25 16:39:09.950 INFO 25135 — [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ‘’2020-09-25 16:39:09.952 INFO 25135 — [ main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…2020-09-25 16:39:10.259 INFO 25135 — [ main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!2020-09-25 16:39:10.273 INFO 25135 — [ main] c.b.fang.doccenter.DocCenterApplication : Started DocCenterApplication in 6.849 seconds (JVM running for 7.256)2020-09-25 16:39:21.977 INFO 25135 — [nio-8080-exec-1] o.apache.tomcat.util.http.parser.Cookie : A cookie header was received [1595556612; Phpstorm-cdd0dbef=4dd0f966-7368-4ed7-b558-b353678b85d8; Idea-7582bd0e=1190282e-dc00-4b57-8ddd-4a0d357dcc9a] that contained an invalid cookie. That cookie will be ignored. 3. 实例正确的打包流程——————-&lt; com.bj58.fang:doc-center &gt;———————- (standard input):14:[INFO] ——————————–[ jar ]——————————— (standard input):16:[INFO] — exec-maven-plugin:3.0.0:exec (exec-npm-install) @ doc-center — (standard input):50:[INFO] — maven-resources-plugin:3.2.0:copy-resources (copy static) @ doc-center — (standard input):55:[INFO] — maven-resources-plugin:3.2.0:copy-resources (copy template) @ doc-center — (standard input):60:[INFO] — maven-resources-plugin:3.2.0:resources (default-resources) @ doc-center — (standard input):65:[INFO] — maven-compiler-plugin:3.8.1:compile (default-compile) @ doc-center — (standard input):73:[INFO] — maven-resources-plugin:3.2.0:testResources (default-testResources) @ doc-center — (standard input):78:[INFO] — maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ doc-center — (standard input):82:[INFO] — maven-surefire-plugin:2.12.4:test (default-test) @ doc-center — (standard input):85:——————————————————- (standard input):87:——————————————————- (standard input):96:[INFO] — maven-jar-plugin:2.4:jar (default-jar) @ doc-center — (standard input):99:[INFO] — spring-boot-maven-plugin:2.3.0.RELEASE:repackage (repackage) @ doc-center — (standard input):102:[INFO] — maven-install-plugin:2.4:install (default-install) @ doc-center – 错误的打包流程：[INFO] — exec-maven-plugin:3.0.0:exec (exec-npm-install) @ doc-center — generate-resource phrase [INFO] — maven-resources-plugin:3.2.0:resources (default-resources) @ doc-center —[INFO] — maven-resources-plugin:3.2.0:copy-resources (copy static) @ doc-center —[INFO] — maven-resources-plugin:3.2.0:copy-resources (copy template) @ doc-center —[INFO] — maven-compiler-plugin:3.8.1:compile (default-compile) @ doc-center —[INFO] — maven-resources-plugin:3.2.0:testResources (default-testResources) @ doc-center —[INFO] — maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ doc-center —[INFO] — maven-surefire-plugin:2.12.4:test (default-test) @ doc-center —[INFO] — maven-jar-plugin:2.4:jar (default-jar) @ doc-center —[INFO] — spring-boot-maven-plugin:2.3.0.RELEASE:repackage (repackage) @ doc-center —[INFO] — maven-install-plugin:2.4:install (default-install) @ doc-center — 4.总结Apache Maven Resources Plugindefault Lifecycledefault lifecycle is defined without any associated plugin. Plugin bindings for this lifecycle are defined separately for every packaging: 12345678910111213141516171819202122232425&lt;phases&gt; &lt;phase&gt;validate&lt;/phase&gt; &lt;phase&gt;initialize&lt;/phase&gt; **&lt;phase&gt;generate-sources&lt;/phase&gt; **&lt;phase&gt;process-sources&lt;/phase&gt; &lt;phase&gt;generate-resources&lt;/phase&gt; **&lt;phase&gt;process-resources&lt;/phase&gt; **&lt;phase&gt;compile&lt;/phase&gt; &lt;phase&gt;process-classes&lt;/phase&gt; &lt;phase&gt;generate-test-sources&lt;/phase&gt; &lt;phase&gt;process-test-sources&lt;/phase&gt; &lt;phase&gt;generate-test-resources&lt;/phase&gt; &lt;phase&gt;process-test-resources&lt;/phase&gt; &lt;phase&gt;test-compile&lt;/phase&gt;&lt;phase&gt;process-test-classes&lt;/phase&gt;&lt;phase&gt;test&lt;/phase&gt; &lt;phase&gt;prepare-package&lt;/phase&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;phase&gt;pre-integration-test&lt;/phase&gt; &lt;phase&gt;integration-test&lt;/phase&gt; &lt;phase&gt;post-integration-test&lt;/phase&gt; &lt;phase&gt;verify&lt;/phase&gt; &lt;phase&gt;install&lt;/phase&gt; &lt;phase&gt;deploy&lt;/phase&gt;&lt;/phases&gt; http://maven.apache.org/plugins/maven-resources-plugin/index.html A build lifecycle made of phrases, a phrase is made of goals mvn clean install依次执行了clean、resources、compile、testResources、testCompile、test、jar(打包)、install等8个阶段。 执行mvn install ,install是一个phrase,会默认顺序执行上面的8个phrases. 每个phrase里面包括多个或者一个goal。 同一个phrase中的goal执行顺序，会根据pom中声明的顺序.「default未知」 {in the default phase (process-resources) with the default goal (resources) } process-resources是resources的默认phrase。实例1 的定义方式，首先generate-sources比process-resources顺序前，所以先执行， process-resources包括了copy static和copy templates两个以及默认的default resources。这种情况下看到的是default会先执行，然后根据另外两个的定义顺序分别执行,看到的效果就是虽然代码下面有了前端的静态资源文件，但是打的包里却没有，是因为default resource是真正执行打包拷贝的过程，而被放在了后面。 The Maven development team has confirmed that currently it is not possible to completely control the order of plugin execution within a phase, except by writing your own custom Lifecycle and using a custom Package Type.【by stackoverfloe】 同一个phrase里面的goal的执行顺序是否能确定尚未知晓。 but In Maven 3.0.3 and later, there are two rules Plugin executions are ordered according to their phases. See https://maven.apache.org/ref/current/maven-core/lifecycles.html for the order of phases. For example, here mavin-plugin-1 is executed before maven-plugin-2 because the process-resources phase is defined as taking place before the compile phase. 2.If multiple executions have the same phase, then the first one to be executed will be the built-in one (e.g. maven-compiler-plugin) whose id is default-*something*, then the other executions will take place in the order they appear in your pom file. 从 Maven 3.0.3 开始同一个phrase里的顺序开始可控，也就是rule2说的。如果想改变这种情况，可以显示声明default的在后面： 【参考 https://stackoverflow.com/questions/8243912/changing-the-order-of-maven-plugin-execution】 The Resources Plugin has three goals: resources:resources ，resources:testResources ，resources:copy-resources If maven plug-ins are bound with same phase, then they executes in order of their listings within pom maven-resources-plugin is by default bounded to process-resources but it is declared in super pom and when you build, super pom, parent poms and current pom make up a single pom known as effective pom ( you can check your effective pom via mvn help:effective-pom) 证明： 获取真正生效的pom方法： mvn help:effective-pom 得到输出：部分如下 maven-resources-plugin 3.2.0 default-testResources process-test-resources testResources default-resources process-resources resources copy static process-resources copy-resources ../doc-center/src/main/resources/templates true ../doc-ui/dist css/ img/ js/ favicon.ico copy template process-resources copy-resources ../doc-center/src/main/resources/templates true ../doc-ui/dist index.html static/ 看到确实是default-resources定义在前，而且绑定的phrase是process-resources。所以会造成示例1的问题。 而示例2，把他们都定义在了generate-resources phrase下面，凑巧顺序满足了需求，所以产生了预期的结果。 5.有用的命令mvn help:effective-pom 查看当前生效的pom文件内容。","categories":[],"tags":[]}],"categories":[],"tags":[]}